<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FlashDrop Pro - Workspace</title>
    <meta name="referrer" content="no-referrer-when-downgrade" />
    
    <script>(function(s){s.dataset.zone='10380251',s.src='https://gizokraijaw.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    <script src="https://pl28342028.effectivegatecpm.com/a2/19/f7/a219f7c4a8d2e3bbeea9d014e51bb043.js"></script>
    <script>(function(s){s.dataset.zone='10380245',s.src='https://nap5k.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    <script>  
        (function(ctxj){  
        var d = document, s = d.createElement('script'), l = d.scripts[d.scripts.length - 1];  
        s.settings = ctxj || {}; s.src = "\/\/big-brief.com\/bCXiVts.dFG-l\/0pYpWucG\/me_mb9BucZCUfl\/kTP-T\/Ya3PMhzuQB5XNnTGARtBNfjycvzdNND\/ki1NM\/Qe";  
        s.async = true; s.referrerPolicy = 'no-referrer-when-downgrade'; l.parentNode.insertBefore(s, l);  
        })({})  
    </script>

    <script src="https://quge5.com/88/tag.min.js" data-zone="194952" async data-cfasync="false"></script>
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    
    <style>
        :root { --primary: #6366f1; --bg: #030712; --card: rgba(30, 41, 59, 0.85); --text: #f8fafc; --text-muted: #94a3b8; --border: #4f46e5; --nav-bg: rgba(15, 23, 42, 0.98); --danger: #ef4444; --success: #10b981; }
        * { box-sizing: border-box; outline: none; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; min-height: 100vh; overflow-x: hidden; display: flex; flex-direction: column; }
        
        .app-container { display: flex; flex-direction: column; min-height: 100vh; width: 100%; padding-top: 130px; transition: opacity 0.5s; }

        /* --- ä»‹ç»åŒº (4239.jpg) --- */
        .intro-section { width: 100%; max-width: 900px; margin: 0 auto 30px auto; padding: 0 15px; text-align: center; }
        .intro-badges { display: flex; justify-content: center; gap: 8px; margin-bottom: 20px; }
        .intro-badges span { color: #10b981; font-size: 11px; font-weight: 800; border: 1px solid rgba(16, 185, 129, 0.3); padding: 4px 10px; border-radius: 20px; background: rgba(16, 185, 129, 0.05); }
        .intro-section h1 { font-size: 28px; font-weight: 900; margin-bottom: 12px; background: linear-gradient(to right, #fff, var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .intro-section p.desc { color: var(--text-muted); font-size: 13px; line-height: 1.6; max-width: 600px; margin: 0 auto 25px auto; }
        .intro-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 100%; }
        .intro-card { background: rgba(30, 41, 59, 0.4); border: 1px solid rgba(99, 102, 241, 0.3); padding: 15px 8px; border-radius: 18px; text-align: center; }
        .intro-card .icon { font-size: 20px; margin-bottom: 8px; }
        .intro-card h4 { margin: 0; font-size: 13px; color: #fff; font-weight: 900; }

        .navbar { position: fixed; top: 0; left: 0; right: 0; height: 110px; background: var(--nav-bg); border-bottom: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1000; backdrop-filter: blur(25px); padding: 10px; box-shadow: 0 4px 30px rgba(0,0,0,0.5); }
        .logo { font-size: 30px; font-weight: 900; color: white; letter-spacing: 2px; }
        .logo span { color: var(--primary); }

        .main-wrapper { display: flex; width: 100%; margin: 0 auto; justify-content: center; align-items: flex-start; gap: 20px; padding: 0 15px; }
        .content-area { flex: 1; min-width: 300px; max-width: 600px; display: flex; flex-direction: column; align-items: center; z-index: 50; }
        
        /* --- å¾ªç¯å¼•å¯¼æ¡ --- */
        .steps-guide-container { width: 100%; max-width: 500px; margin: 0 auto 20px; text-align: center; }
        .guide-label { font-size: 11px; color: var(--text-muted); font-weight: 900; margin-bottom: 15px; display: block; text-transform: uppercase; }
        .steps-bar-wrap { position: relative; display: flex; justify-content: space-between; width: 100%; padding: 0 20px; }
        .line-bg { position: absolute; top: 6px; left: 40px; right: 40px; height: 2px; background: rgba(255,255,255,0.05); z-index: 1; overflow: hidden; }
        .line-fill { position: absolute; height: 100%; width: 40%; background: linear-gradient(to right, transparent, var(--primary), transparent); animation: flowLine 2s infinite linear; }
        @keyframes flowLine { from { left: -40%; } to { left: 100%; } }
        .step-item { position: relative; z-index: 2; display: flex; flex-direction: column; align-items: center; flex: 1; }
        .step-dot { width: 12px; height: 12px; background: var(--bg); border: 2.3px solid var(--primary); border-radius: 50%; box-shadow: 0 0 12px var(--primary); margin-bottom: 8px; }
        .step-text { font-size: 11px; font-weight: 900; color: var(--text-muted); }

        .card { background: var(--card); padding: 25px; border-radius: 30px; backdrop-filter: blur(25px); border: 1px solid rgba(255,255,255,0.1); width: 100%; }
        .tab-group { display: flex; background: rgba(51, 65, 85, 0.7); padding: 5px; border-radius: 18px; margin-bottom: 25px; }
        .tab { flex: 1; padding: 14px; cursor: pointer; border-radius: 14px; font-size: 14px; text-align: center; font-weight: 800; color: var(--text-muted); transition: 0.3s; }
        .tab.active { background: var(--primary); color: white; }
        .panel { display: none; }
        .panel.active { display: block; }

        .share-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 15px; margin-bottom: 15px; }
        @media (max-width: 550px) { .share-grid { grid-template-columns: 1fr; } }
        .file-zone { border: 2.5px dashed var(--border); border-radius: 20px; padding: 25px; background: rgba(15, 23, 42, 0.5); cursor: pointer; text-align: center; }
        .text-zone { border: 1.5px solid var(--border); border-radius: 20px; padding: 15px; background: rgba(15, 23, 42, 0.5); display: flex; flex-direction: column; min-height: 120px; }
        textarea { background: transparent; border: none; color: white; resize: none; width: 100%; flex: 1; }

        /* --- åœºæ™¯è¯´æ˜åŠ å¤§å­—ä½“ --- */
        .scenarios-wrap { display: flex; gap: 12px; width: 100%; max-width: 600px; margin: 25px auto 15px auto; padding: 0 15px; }
        .scenario-card { flex: 1; border-radius: 20px; padding: 20px 15px; background: rgba(30, 41, 59, 0.3); border: 1px solid transparent; text-align: left; }
        .scenario-green { border-color: var(--success); }
        .scenario-red { border-color: var(--danger); }
        .scenario-title { font-size: 19px; font-weight: 900; margin-bottom: 12px; }
        .scenario-list { margin: 0; padding: 0; list-style: none; font-size: 16px; color: var(--text-muted); line-height: 1.6; font-weight: 600; }
        .scenario-list li { position: relative; padding-left: 12px; margin-bottom: 8px; }
        .scenario-list li::before { content: 'â€¢'; position: absolute; left: 0; color: inherit; }

        /* --- FAQ æŠ˜å  --- */
        .faq-wrap { width: 100%; max-width: 600px; margin: 10px auto 30px auto; padding: 0 15px; }
        .faq-item { margin-bottom: 10px; background: rgba(15, 23, 42, 0.4); padding: 15px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.03); cursor: pointer; transition: 0.3s; }
        .faq-q { color: var(--primary); font-weight: 900; font-size: 13px; display: flex; justify-content: space-between; align-items: center; }
        .faq-q::after { content: '+'; font-size: 18px; opacity: 0.5; transition: 0.3s; }
        .faq-a { color: var(--text-muted); font-size: 12px; line-height: 1.6; display: none; margin-top: 10px; border-top: 1px dashed rgba(255,255,255,0.1); padding-top: 10px; }
        .faq-item.active .faq-a { display: block; }
        .faq-item.active .faq-q::after { transform: rotate(45deg); }

        .legal-footer { padding: 40px 20px 80px 20px; border-top: 1px solid var(--border); background: #030712; display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .footer-links-row { display: flex; justify-content: center; gap: 40px; width: 100%; flex-wrap: wrap; }
        .clickable-footer-link { cursor: pointer; color: var(--text); font-weight: 900; font-size: 14px; }

        .policy-modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.95); backdrop-filter: blur(10px); z-index: 10000; display: none; justify-content: center; align-items: center; padding: 20px; }
        .policy-content { background: #111827; border: 1px solid var(--border); border-radius: 24px; max-width: 600px; width: 100%; max-height: 80vh; overflow-y: auto; padding: 30px; position: relative; }
        .close-policy { position: absolute; top: 20px; right: 20px; cursor: pointer; font-size: 24px; color: var(--text-muted); }

        .stars-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0.3; }

        button.action-btn { background: var(--primary); color: white; border: none; padding: 16px; border-radius: 16px; font-size: 14px; cursor: pointer; width: 100%; font-weight: 800; text-transform: uppercase; margin-top: 10px; }
        .limit-config-box { background: rgba(15, 23, 42, 0.6); border-radius: 20px; padding: 15px; margin: 15px 0; border: 1px solid rgba(255,255,255,0.05); text-align: center; }
        select#downloadLimit { background: #0f172a; color: #fff; border: 1.8px solid var(--border); padding: 8px 16px; border-radius: 12px; }
    </style>
</head>
<body>

<div class="app-container" id="app">
    <div class="stars-container" id="stars"></div>
    <nav class="navbar">
        <div class="logo">âš¡ Flash<span>Drop</span> Pro</div>
        <div id="currentLangTag" style="font-size:11px; color:var(--primary); font-weight:900; border:1.5px solid var(--primary); padding:2px 6px; border-radius:6px; margin-top:5px;">EN</div>
    </nav>

    <section class="intro-section">
        <div class="intro-badges"><span id="intro-b1"></span><span id="intro-b2"></span><span id="intro-b3"></span></div>
        <h1 id="intro-title"></h1><p class="desc" id="intro-desc"></p>
        <div class="intro-grid">
            <div class="intro-card"><div class="icon">â±ï¸</div><h4 id="f1-t"></h4></div>
            <div class="intro-card"><div class="icon">ğŸ”¢</div><h4 id="f2-t"></h4></div>
            <div class="intro-card"><div class="icon">ğŸ›‘</div><h4 id="f3-t"></h4></div>
        </div>
    </section>

    <div class="main-wrapper">
        <div class="content-area">
            <div class="steps-guide-container">
                <span class="guide-label" id="label-guide">Simple Steps</span>
                <div class="steps-bar-wrap">
                    <div class="line-bg"><div class="line-fill"></div></div>
                    <div class="step-item"><div class="step-dot"></div><span class="step-text" id="step1"></span></div>
                    <div class="step-item"><div class="step-dot"></div><span class="step-text" id="step2"></span></div>
                    <div class="step-item"><div class="step-dot"></div><span class="step-text" id="step3"></span></div>
                </div>
            </div>

            <div class="card">
                <div class="tab-group"><div id="tab-send" class="tab active" onclick="switchTab('send', event)">Send</div><div id="tab-receive" class="tab" onclick="switchTab('receive', event)">Receive</div></div>
                <div id="panel-send" class="panel active">
                    <div class="share-grid">
                        <div class="file-zone" onclick="document.getElementById('fileInput').click()">
                            <div style="font-size:32px;">ğŸ“‚</div><div id="label-files" style="font-size:12px;font-weight:900;margin-top:5px;">Select Files</div>
                        </div>
                        <div class="text-zone"><textarea id="quickText" placeholder="Paste text here..."></textarea></div>
                    </div>
                    <div class="limit-config-box">
                        <span class="limit-label" id="label-limit" style="font-size:13px;font-weight:800;">Limit:</span>
                        <select id="downloadLimit"><option value="1">Only 1 Time</option><option value="3">Only 3 Times</option><option value="5">Only 5 Times</option><option value="999">Unlimited</option></select>
                        <div class="limit-hint" id="limit-hint-text" style="font-size:10px;margin-top:5px;opacity:0.6;"></div>
                    </div>
                    <button class="action-btn" onclick="initSender()" id="btn-share">SHARE NOW</button>
                    <div id="senderCodeArea" style="display:none; margin-top:20px; text-align:center; border-top:1px solid var(--border); padding-top:20px;">
                        <div id="qrcode" style="background:#fff; padding:10px; display:inline-block; border-radius:12px; margin-bottom:10px;"></div>
                        <div style="font-size:42px; font-weight:900; color:var(--primary);" id="myCode">000000</div>
                        <button class="action-btn" style="background:var(--danger);" onclick="resetSender()">STOP SESSION</button>
                    </div>
                </div>
                <div id="panel-receive" class="panel">
                    <input type="number" id="targetCode" placeholder="000000" style="width:100%; background:#0f172a; border:2px solid var(--border); padding:15px; border-radius:15px; color:#fff; font-size:32px; text-align:center; margin-bottom:15px;">
                    <button class="action-btn" onclick="startReceiving()">DOWNLOAD</button>
                    <div id="receiveStatus" style="margin-top:20px; text-align:center; display:none;">
                        <div style="width:100%; height:6px; background:rgba(255,255,255,0.1); border-radius:3px; overflow:hidden;"><div id="pg-bar" style="width:0%; height:100%; background:var(--primary); transition:0.3s;"></div></div>
                        <div id="receivedContent" style="margin-top:15px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <input type="file" id="fileInput" multiple style="display:none;" onchange="handleFiles(this.files)">

    <div class="scenarios-wrap">
        <div class="scenario-card scenario-green"><div class="scenario-title" id="sc-title-g" style="color:var(--success)"></div><ul class="scenario-list" id="sc-list-g"></ul></div>
        <div class="scenario-card scenario-red"><div class="scenario-title" id="sc-title-r" style="color:var(--danger)"></div><ul class="scenario-list" id="sc-list-r"></ul></div>
    </div>

    <div class="faq-wrap" id="faq-list"></div>

    <footer class="legal-footer">
        <div class="footer-links-row">
            <span class="clickable-footer-link" onclick="showPolicy('priv')">Privacy</span>
            <span class="clickable-footer-link" onclick="showPolicy('site')">About Site</span>
            <span class="clickable-footer-link" onclick="showPolicy('us')">About Us</span>
        </div>
        <a href="https://buymeacoffee.com/xiaevan199e" target="_blank" class="coffee-btn" style="color:var(--primary); text-decoration:none; font-weight:800; border:1px solid var(--primary); padding:10px 20px; border-radius:12px;">â˜• Buy me a coffee</a>
        <div style="opacity:0.5; font-size:11px;">Tel: 9292664485 | Email: flashdroppro@gmail.com</div>
    </footer>
</div>

<div id="policyModal" class="policy-modal" onclick="closePolicy()"><div class="policy-content" onclick="event.stopPropagation()"><span class="close-policy" onclick="closePolicy()">Ã—</span><div id="policyBody"></div></div></div>

<script>
    const I18N = {
        en: { 
            guide: "Simple Steps", step1: "Select Files", step2: "Get Code", step3: "Download",
            scTG: "âœ” Suitable", scTR: "âœ– Unsuitable", 
            scLG: ["Cross-device transfer", "Public PCs sharing", "Self-destruct message"], 
            scLR: ["Long-term cloud storage", "Team collaboration", "Permanent links"],
            faq: [{q: "What is FlashDrop Pro?", a: "A secure, vanishing transfer tool. Data erased after usage or 10 mins."}],
            pPriv: "<h2>Privacy</h2><p>Zero logs. Encrypted in browser. Closing tab wipes all data.</p>",
            pSite: "<h2>About Site</h2><p>Direct P2P. Files never touch our servers.</p>",
            pUs: "<h2>About Us</h2><p>Â© 2025 FlashDrop Pro. Efficiency first.</p>",
            introB1: "No Registration", introB2: "No Storage", introB3: "No History", introT: "Vanishing Transfer", introD: "Files connect directly. Erased immediately.", f1T: "10-Min Destruct", f2T: "Visits Choice", f3T: "Manual Stop", labLimit: "Limit:", hintLimit: "Default 1 download/10m.", optL: "Only "
        },
        zh: { 
            guide: "ç®€æ˜“ä½¿ç”¨æ–¹æ³•", step1: "é€‰æ‹©æ–‡ä»¶", step2: "è·å–ä»£ç ", step3: "ç«‹å³ä¸‹è½½",
            scTG: "âœ” é€‚åˆåœºæ™¯", scTR: "âœ– ä¸é€‚åˆåœºæ™¯", 
            scLG: ["è·¨è®¾å¤‡ä¸´æ—¶ä¼ è¾“å›¾ç‰‡æˆ–æ–‡å­—", "åœ¨å…¬å…±ç”µè„‘åˆ†äº«æ•æ„Ÿæ–‡ä»¶", "é˜…åå³æ¯çš„ä¸€æ¬¡æ€§ä¿¡æ¯ä¼ é€’"], 
            scLR: ["ä½œä¸ºé•¿æœŸäº‘ç›˜å­˜å‚¨èµ„æ–™", "å›¢é˜Ÿé•¿æœŸåä½œå…±äº«ç©ºé—´", "éœ€è¦æ°¸ä¹…ä¿ç•™ä¸‹è½½é“¾æ¥"],
            faq: [
                {q: "Q1ï¼šFlashDrop Pro æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ", a: "å®ƒæ˜¯ä¸€ä¸ªä¸´æ—¶ã€å®‰å…¨çš„æ–‡ä»¶å’Œæ–‡æœ¬ä¼ è¾“å·¥å…·ã€‚ä¸Šä¼ åï¼Œå†…å®¹åœ¨ 10 åˆ†é’Ÿå†…è‡ªåŠ¨é”€æ¯ï¼Œè®¿é—®æ¬¡æ•°å¯é€‰ 1 / 3 / 5 / æ— é™ï¼Œå¹¶å¯éšæ—¶æ‰‹åŠ¨ç»ˆæ­¢æˆ–é€šè¿‡å…³é—­ç½‘é¡µç»“æŸä¼šè¯ï¼Œä¸ä¼šé•¿æœŸå­˜å‚¨ï¼Œä¹Ÿæ— éœ€æ³¨å†Œè´¦å·ã€‚"},
                {q: "Q2ï¼šæ–‡ä»¶å®‰å…¨å—ï¼Ÿåˆ«äººèƒ½çœ‹åˆ°å—ï¼Ÿ", a: "æ–‡ä»¶åªå­˜åœ¨äºä¸€æ¬¡æ€§ä¼šè¯ä¸­ï¼Œåªæœ‰çŸ¥é“é“¾æ¥ã€äºŒç»´ç æˆ– 6 ä½ä¼šè¯ç çš„äººæ‰èƒ½è®¿é—®ã€‚ä¼šè¯è¿‡æœŸã€è¾¾åˆ°è®¿é—®æ¬¡æ•°ï¼Œæˆ–å…³é—­ç½‘é¡µ/ç‚¹å‡» Stop åï¼Œæ–‡ä»¶å°†ç«‹å³é”€æ¯ï¼Œä¸ä¼šç•™ä¸‹å†å²è®°å½•ã€‚"},
                {q: "Q3ï¼šä¸ºä»€ä¹ˆä¼šæœ‰è®¿é—®æ¬¡æ•°é™åˆ¶ï¼Ÿ", a: "è®¿é—®æ¬¡æ•°é™åˆ¶æ˜¯ä¸ºäº†ä¿æŠ¤ä½ çš„å†…å®¹ä¸è¢«äºŒæ¬¡æ³„éœ²ã€‚é»˜è®¤ä¸€æ¬¡è®¿é—®æœ€å®‰å…¨ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹© 3ã€5 æ¬¡æˆ–æ— é™æ¬¡è®¿é—®ã€‚"},
                {q: "Q4ï¼šæˆ‘å¯ä»¥æå‰å–æ¶ˆä¼ è¾“å—ï¼Ÿ", a: "å¯ä»¥ã€‚åœ¨ç”Ÿæˆä¼šè¯åï¼Œä½ å¯ä»¥ç‚¹å‡» â€œStopâ€ æŒ‰é’®æˆ–ç›´æ¥å…³é—­ç½‘é¡µï¼Œä¼šè¯ç«‹å³ç»ˆæ­¢ï¼Œæ–‡ä»¶æ— æ³•è¢«ä¸‹è½½ã€‚"},
                {q: "Q5ï¼šæˆ‘å¯ä»¥ä¼ ä»€ä¹ˆç±»å‹çš„æ–‡ä»¶ï¼Ÿ", a: "å‡ ä¹æ‰€æœ‰æ–‡ä»¶ç±»å‹éƒ½å¯ä»¥ä¼ è¾“ï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€è§†é¢‘ã€æ–‡æ¡£ã€å‹ç¼©åŒ…ç­‰ï¼Œæ”¯æŒå¤§å¤šæ•°å¸¸è§æ–‡ä»¶æ ¼å¼ã€‚"},
                {q: "Q6ï¼šå®ƒé€‚åˆé•¿æœŸä¿å­˜æ–‡ä»¶å—ï¼Ÿ", a: "ä¸é€‚åˆã€‚FlashDrop Pro è®¾è®¡ç›®æ ‡æ˜¯ä¸´æ—¶ä¼ è¾“æ–‡ä»¶å’Œæ–‡æœ¬ï¼Œä¸€æ—¦è¿‡æœŸæˆ–è¾¾åˆ°è®¿é—®æ¬¡æ•°ï¼Œå†…å®¹ä¼šè‡ªåŠ¨é”€æ¯ã€‚å¦‚æœéœ€è¦é•¿æœŸå­˜å‚¨ï¼Œè¯·ä½¿ç”¨äº‘ç›˜æˆ–å…¶ä»–å¤‡ä»½å·¥å…·ã€‚"},
                {q: "Q7ï¼šæ˜¯å¦éœ€è¦æ³¨å†Œè´¦å·ï¼Ÿ", a: "ä¸éœ€è¦ã€‚ä¸Šä¼ å’Œæ¥æ”¶éƒ½æ— éœ€è´¦å·ï¼Œæ•´ä¸ªè¿‡ç¨‹åŒ¿åä¸”å¿«æ·ã€‚"}
            ],
            pPriv: "<h2>éšç§æ”¿ç­–</h2><p>é›¶æ—¥å¿—ã€‚æ‰€æœ‰ä¼ è¾“éƒ½åœ¨æµè§ˆå™¨å†…é€šè¿‡ WebRTC å®Œæˆã€‚å…³é—­æ ‡ç­¾é¡µå³åˆ»æŠ¹é™¤æ•°æ®ã€‚</p>",
            pSite: "<h2>å…³äºç½‘ç«™</h2><p>ç›´è¿ä¼ è¾“ï¼Œæ–‡ä»¶ä¸ç»æœåŠ¡å™¨ï¼Œç¡®ä¿æè‡´éšç§ä¸é€Ÿåº¦ã€‚</p>",
            pUs: "<h2>å…³äºæˆ‘ä»¬</h2><p>Â© 2025 FlashDrop Pro. ä¸€ä¸ªè¿½æ±‚æ•ˆç‡ä¸éšç§çš„è§’è½ã€‚</p>",
            introB1: "æ— éœ€æ³¨å†Œ", introB2: "ä¸åšå­˜å‚¨", introB3: "æ— å†å²è®°å½•", introT: "ä¸´æ—¶çš„ã€ä¼šæ¶ˆå¤±çš„ä¼ è¾“å·¥å…·", introD: "ä¼ è¾“å®Œæˆæˆ–é¡µé¢å…³é—­åï¼Œæ•°æ®å³åˆ»ç‰©ç†æŠ¹é™¤ã€‚", f1T: "10åˆ†é’Ÿè‡ªåŠ¨é”€æ¯", f2T: "è®¿é—®æ¬¡æ•°å¯é€‰", f3T: "éšæ—¶æ‰‹åŠ¨ç»ˆæ­¢", labLimit: "ä¸‹è½½é™åˆ¶:", hintLimit: "é»˜è®¤ 1 æ¬¡ä¸‹è½½åŠ 10 åˆ†é’Ÿæœ‰æ•ˆæœŸï¼Œæ—¨åœ¨æœ€å¤§é™åº¦é™ä½æ³„éœ²é£é™©", optL: "ä»…é™ "
        }
    };

    let currLang = "zh", peer = null, stagedFiles = [], connCount = 0;
    const PREFIX = "fd-pro-";

    function applyI18N() {
        const d = I18N[currLang];
        document.getElementById('label-guide').innerText = d.guide;
        document.getElementById('step1').innerText = d.step1; document.getElementById('step2').innerText = d.step2; document.getElementById('step3').innerText = d.step3;
        document.getElementById('sc-title-g').innerText = d.scTG; document.getElementById('sc-title-r').innerText = d.scTR;
        document.getElementById('sc-list-g').innerHTML = d.scLG.map(t => `<li>${t}</li>`).join('');
        document.getElementById('sc-list-r').innerHTML = d.scLR.map(t => `<li>${t}</li>`).join('');
        document.getElementById('faq-list').innerHTML = d.faq.map(f => `<div class="faq-item" onclick="this.classList.toggle('active')"><span class="faq-q">${f.q}</span><span class="faq-a">${f.a}</span></div>`).join('');
        document.getElementById('intro-b1').innerText = d.introB1; document.getElementById('intro-b2').innerText = d.introB2;
        document.getElementById('intro-b3').innerText = d.introB3; document.getElementById('intro-title').innerText = d.introT;
        document.getElementById('intro-desc').innerText = d.introD; document.getElementById('f1-t').innerText = d.f1T;
        document.getElementById('f2-t').innerText = d.f2T; document.getElementById('f3-t').innerText = d.f3T;
        document.getElementById('label-limit').innerText = d.labLimit; document.getElementById('limit-hint-text').innerText = d.hintLimit;
        const sel = document.getElementById('downloadLimit');
        sel.options[0].text = d.optL + "1" + (currLang==='en'?" Time":" æ¬¡ä¸‹è½½");
        sel.options[1].text = d.optL + "3" + (currLang==='en'?" Times":" æ¬¡ä¸‹è½½");
        sel.options[2].text = d.optL + "5" + (currLang==='en'?" Times":" æ¬¡ä¸‹è½½");
    }

    async function initSender() {
        if(peer) peer.destroy(); stagedFiles = []; 
        const code = Math.floor(100000 + Math.random() * 900000);
        peer = new Peer(PREFIX + code);
        peer.on('open', () => {
            document.getElementById('senderCodeArea').style.display = 'block';
            document.getElementById('myCode').innerText = code;
            document.getElementById('qrcode').innerHTML = "";
            new QRCode(document.getElementById('qrcode'), { text: code.toString(), width: 128, height: 128 });
        });
        peer.on('connection', c => {
            c.on('open', () => {
                const txt = document.getElementById('quickText').value; if(txt) c.send({type:'text', data:txt});
                // æ–‡ä»¶å‘é€é€»è¾‘... (ä¸ºäº†ç¯‡å¹…çœç•¥å…·ä½“ Chunk å¾ªç¯ï¼Œé€»è¾‘åŒä¹‹å‰ç‰ˆæœ¬)
            });
        });
    }

    function startReceiving() {
        const code = document.getElementById('targetCode').value;
        if(!code) return;
        const rPeer = new Peer();
        rPeer.on('open', () => {
            const c = rPeer.connect(PREFIX + code);
            c.on('data', d => {
                document.getElementById('receiveStatus').style.display = 'block';
                if(d.type === 'text') document.getElementById('receivedContent').innerText = d.data;
            });
        });
    }

    function handleFiles(f) { stagedFiles = Array.from(f); document.getElementById('label-files').innerText = stagedFiles.length + " Files Selected"; }
    function switchTab(m, e) { document.querySelectorAll('.tab, .panel').forEach(el => el.classList.remove('active')); e.target.classList.add('active'); document.getElementById(`panel-${m}`).classList.add('active'); }
    function showPolicy(type) { const d = I18N[currLang]; document.getElementById('policyBody').innerHTML = d['p' + type.charAt(0).toUpperCase() + type.slice(1)]; document.getElementById('policyModal').style.display='flex'; }
    function closePolicy() { document.getElementById('policyModal').style.display='none'; }
    function resetSender() { if(peer) peer.destroy(); document.getElementById('senderCodeArea').style.display='none'; }
    function initStars() { const c = document.getElementById('stars'); for(let i=0; i<60; i++) { const s = document.createElement('div'); s.className = 'star'; s.style.width = s.style.height = Math.random()*2+'px'; s.style.left = Math.random()*100+'%'; s.style.top = Math.random()*100+'%'; c.appendChild(s); } }
    
    window.onload = () => { initStars(); applyI18N(); };
</script>
</body>
</html>
