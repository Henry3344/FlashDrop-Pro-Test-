<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FlashDrop Pro - ä¸´æ—¶ã€å®‰å…¨ã€é˜…åå³æ¯</title>
    <meta name="referrer" content="no-referrer-when-downgrade" />
    
    <script>(function(s){s.dataset.zone='10380251',s.src='https://gizokraijaw.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    <script src="https://pl28342028.effectivegatecpm.com/a2/19/f7/a219f7c4a8d2e3bbeea9d014e51bb043.js"></script>
    <script>(function(s){s.dataset.zone='10380245',s.src='https://nap5k.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    
    <style>
        :root { --primary: #6366f1; --bg: #030712; --card: rgba(30, 41, 59, 0.85); --text: #f8fafc; --text-muted: #94a3b8; --border: #4f46e5; --nav-bg: rgba(15, 23, 42, 0.98); --danger: #ef4444; --success: #10b981; }
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; min-height: 100vh; display: flex; flex-direction: column; overflow-x: hidden; }
        
        .app-container { display: flex; flex-direction: column; width: 100%; padding-top: 70px; }
        
        /* å¯¼èˆª */
        .navbar { position: fixed; top: 0; left: 0; right: 0; height: 60px; background: var(--nav-bg); border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; z-index: 1000; padding: 0 15px; backdrop-filter: blur(20px); }
        .logo { font-size: 18px; font-weight: 900; color: white; }
        .logo span { color: var(--primary); }

        /* Hero ç´§å‡‘å¸ƒå±€ */
        .hero-section { text-align: center; padding: 10px 15px; width: 100%; }
        .safety-promise { background: rgba(16, 185, 129, 0.1); border: 1px solid var(--success); border-radius: 8px; padding: 4px 10px; display: inline-flex; gap: 8px; font-size: 10px; font-weight: 700; color: var(--success); margin-bottom: 10px; }
        .hero-title { font-size: 20px; font-weight: 900; margin: 0 0 10px 0; }
        
        .advantage-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; margin-bottom: 10px; }
        .adv-card { background: rgba(99, 102, 241, 0.1); border: 1px solid var(--border); border-radius: 10px; padding: 8px 2px; }
        .adv-card .tit { font-size: 9px; font-weight: 800; color: white; display: block; }
        .adv-card .desc { font-size: 8px; color: var(--text-muted); display: block; margin-top: 2px; }

        /* æ ¸å¿ƒå†…å®¹ */
        .main-wrapper { display: flex; width: 100%; justify-content: center; gap: 10px; padding: 0 10px; }
        .ad-side { width: 140px; display: flex; flex-direction: column; }
        @media (max-width: 900px) { .ad-side { display: none !important; } }

        .content-area { flex: 1; max-width: 500px; width: 100%; display: flex; flex-direction: column; }
        .card { background: var(--card); padding: 15px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); }
        .tab-group { display: flex; background: rgba(51, 65, 85, 0.7); padding: 4px; border-radius: 12px; margin-bottom: 15px; }
        .tab { flex: 1; padding: 10px; cursor: pointer; border-radius: 10px; font-size: 13px; text-align: center; color: var(--text-muted); font-weight: 800; }
        .tab.active { background: var(--primary); color: white; }
        .panel { display: none; }
        .panel.active { display: block; }

        /* ä¿®å¤è™šçº¿æ¡†ï¼šæ ¸å¿ƒä¿®æ­£ç‚¹ */
        .file-zone { border: 2px dashed var(--border); border-radius: 15px; padding: 20px; background: rgba(15, 23, 42, 0.5); display: flex !important; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 12px; width: 100%; box-sizing: border-box; }
        #stagedList { display: none; background: rgba(15, 23, 42, 0.6); border: 1px solid var(--border); border-radius: 10px; padding: 8px; margin-bottom: 10px; }
        
        .text-zone { border: 1px solid var(--border); border-radius: 15px; padding: 10px; background: rgba(15, 23, 42, 0.5); height: 100px; margin-bottom: 12px; }
        textarea { background: transparent; border: none; color: white; resize: none; width: 100%; height: 100%; font-size: 13px; }
        
        button.action-btn { background: var(--primary); color: white; border: none; padding: 14px; border-radius: 12px; font-size: 13px; cursor: pointer; width: 100%; font-weight: 800; text-transform: uppercase; }

        /* å¯¹æ¯”åŒºå“åº”å¼ */
        .trust-compare { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
        @media (max-width: 500px) { .trust-compare { grid-template-columns: 1fr; } }
        .compare-box { padding: 10px; border-radius: 12px; font-size: 11px; }
        .compare-box.yes { background: rgba(16, 185, 129, 0.05); border: 1px solid var(--success); }
        .compare-box.no { background: rgba(239, 68, 68, 0.05); border: 1px solid var(--danger); }

        .legal-footer { padding: 20px; text-align: center; font-size: 10px; color: var(--text-muted); margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.05); }
        .ad-space { width: 100%; max-width: 100vw; display: flex; justify-content: center; margin: 10px 0; overflow: hidden; }
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 5000; display: none; justify-content: center; align-items: center; flex-direction: column; }
    </style>
</head>
<body>

<div class="app-container">
    <nav class="navbar">
        <div class="logo">âš¡ Flash<span>Drop</span> Pro</div>
        <div id="currentLangTag" style="font-size:10px; color:var(--primary); font-weight:900; border:1px solid var(--primary); padding:2px 5px; border-radius:4px;">EN</div>
    </nav>

    <header class="hero-section">
        <div class="safety-promise">
            <span id="prom-1">âœ“ No Signup</span><span id="prom-2">âœ“ No Storage</span><span id="prom-3">âœ“ No Logs</span>
        </div>
        <h1 class="hero-title" id="h-title">Temporary & <span>Vanishing</span></h1>
        
        <div class="advantage-grid">
            <div class="adv-card"><span class="tit" id="adv-1-t">10m Auto-Kill</span><span class="desc" id="adv-1-d">Session Ends</span></div>
            <div class="adv-card"><span class="tit" id="adv-2-t">Visit Limit</span><span class="desc" id="adv-2-d">1 / 3 / 5 / Max</span></div>
            <div class="adv-card"><span class="tit" id="adv-3-t">Instant Stop</span><span class="desc" id="adv-3-d">Manual Kill</span></div>
        </div>
    </header>

    <div class="ad-space ad-top">
        <script>atOptions={'key':'fabada29768bc51cc0a6a76937a99ba9','format':'iframe','height':90,'width':728,'params':{}};</script>
        <script src="https://www.highperformanceformat.com/fabada29768bc51cc0a6a76937a99ba9/invoke.js"></script>
    </div>

    <div class="main-wrapper">
        <aside class="ad-side">
            <script>atOptions={'key':'bd9abdb5a8bd5a53648a9afb54343727','format':'iframe','height':600,'width':160,'params':{}};</script>
            <script src="https://www.highperformanceformat.com/bd9abdb5a8bd5a53648a9afb54343727/invoke.js"></script>
        </aside>

        <main class="content-area">
            <div class="card">
                <div class="tab-group">
                    <div id="tab-send" class="tab active" onclick="switchTab('send', event)">SEND</div>
                    <div id="tab-receive" class="tab" onclick="switchTab('receive', event)">RECEIVE</div>
                </div>

                <div id="panel-send" class="panel active">
                    <label class="file-zone" for="fileInput">
                        <div style="font-size: 32px;">ğŸ“‚</div>
                        <div id="label-files" style="font-size:12px; margin-top:5px; font-weight:900;">Drop / Click</div>
                    </label>
                    <input type="file" id="fileInput" multiple style="display:none;" onchange="handleFiles(this.files)">
                    
                    <div id="stagedList"></div>
                    <div class="text-zone"><textarea id="quickText" placeholder="Paste text here..."></textarea></div>
                    
                    <div style="margin-bottom:10px; text-align:center;">
                        <span id="label-limit" style="font-size:11px; color:var(--text-muted);">Limit: </span>
                        <select id="downloadLimit" style="background:#0f172a; color:#fff; border:1px solid var(--border); padding:3px; border-radius:6px; font-size:11px;">
                            <option value="1">1 Time</option><option value="3">3 Times</option><option value="5">5 Times</option><option value="999">Unlimited</option>
                        </select>
                    </div>
                    <button class="action-btn" id="btn-share-main" onclick="triggerAd('send')">START SHARING</button>

                    <div id="senderCodeArea" style="margin-top:15px; border:2px solid var(--success); border-radius:15px; padding:15px; display:none; text-align:center;">
                        <div id="qrcode"></div>
                        <div class="code-display" id="myCode" style="font-size:36px; font-weight:900; color:#a5b4fc;">000000</div>
                        <div id="expiryTimer" style="font-size:13px; color:var(--danger); font-weight:900;">Expires: 10:00</div>
                        <button class="action-btn" onclick="resetSender()" style="background:var(--danger); margin-top:10px;">STOP & DESTROY</button>
                    </div>
                </div>

                <div id="panel-receive" class="panel">
                    <input type="number" id="targetCode" placeholder="000000" style="width:100%; padding:12px; font-size:24px; text-align:center; background:#0f172a; border:2.5px solid var(--border); border-radius:12px; color:white; margin-bottom:12px;">
                    <button class="action-btn" id="btn-receive-main" onclick="triggerAd('receive')">DOWNLOAD</button>
                </div>
            </div>

            <div class="trust-compare">
                <div class="compare-box yes">
                    <h4 id="comp-yes-t">âœ” Suitable</h4>
                    <p id="comp-yes-d">Quick sharing, public devices, one-time transfer.</p>
                </div>
                <div class="compare-box no">
                    <h4 id="comp-no-t">âŒ Unsuitable</h4>
                    <p id="comp-no-d">Long-term storage, team collaboration.</p>
                </div>
            </div>

            <div class="ad-space ad-bottom">
                <script>atOptions={'key':'fabada29768bc51cc0a6a76937a99ba9','format':'iframe','height':90,'width':728,'params':{}};</script>
                <script src="https://www.highperformanceformat.com/fabada29768bc51cc0a6a76937a99ba9/invoke.js"></script>
            </div>
            <div id="history-list" style="width:100%;"></div>
        </main>

        <aside class="ad-side">
            <script>atOptions={'key':'bd9abdb5a8bd5a53648a9afb54343727','format':'iframe','height':600,'width':160,'params':{}};</script>
            <script src="https://www.highperformanceformat.com/bd9abdb5a8bd5a53648a9afb54343727/invoke.js"></script>
        </aside>
    </div>

    <footer class="legal-footer">
        <p>Tel: +1 929-266-4485 | Email: flashdroppro@gmail.com</p>
        <p style="opacity:0.5;">Efficiency First. Direct P2P. No Logs.</p>
    </footer>
</div>

<div class="modal-overlay" id="adModal">
    <div style="color:white; margin-bottom:10px; font-weight:bold; font-size:14px;">Security Checking...</div>
    <div style="width: 200px; height: 5px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden; margin-bottom: 15px;">
        <div id="ad-pg-bar" style="height: 100%; width: 0%; background: var(--primary);"></div>
    </div>
    <div style="width:300px; height:250px; background:white; border-radius:15px; overflow:hidden;">
        <script>atOptions={'key':'05aeca9dfc228cb50e7ad828813cd55b','format':'iframe','height':250,'width':300,'params':{}};</script>
        <script src="https://www.highperformanceformat.com/05aeca9dfc228cb50e7ad828813cd55b/invoke.js"></script>
    </div>
</div>

<script>
    // é€»è¾‘éƒ¨åˆ†å®Œå…¨æ¢å¤å¹¶ä¼˜åŒ–
    const I18N = {
        en: { send: "SEND", receive: "RECEIVE", drop: "Drop / Click", start: "START SHARING", dl: "DOWNLOAD", prom1: "âœ“ No Signup", prom2: "âœ“ No Storage", prom3: "âœ“ No Logs", title: "Temporary & <span>Vanishing</span>", adv1t: "10m Auto-Kill", adv1d: "Ends Session", adv2t: "Visit Limit", adv2d: "1 / 3 / 5 / Max", adv3t: "Instant Stop", adv3d: "Manual Kill", limit: "Limit: ", exp: "Expires: ", yT: "âœ” Suitable", yD: "Quick sharing, public devices, one-time transfer.", nT: "âŒ Unsuitable", nD: "Long-term storage, team collaboration." },
        zh: { send: "å‘é€", receive: "æ¥æ”¶", drop: "æ‹–æ‹½ / ç‚¹å‡»", start: "å¼€å§‹åˆ†äº«", dl: "ç«‹å³ä¸‹è½½", prom1: "âœ“ æ— éœ€æ³¨å†Œ", prom2: "âœ“ ä¸åšå­˜å‚¨", prom3: "âœ“ é›¶æ—¥å¿—", title: "ç¬æ—¶ã€<span>é˜…åå³æ¯</span>", adv1t: "10åˆ†é’Ÿè‡ªåŠ¨é”€æ¯", adv1d: "ä¼šè¯åˆ°æœŸè‡ªåŠ¨å¤±æ•ˆ", adv2t: "è®¿é—®æ¬¡æ•°å¯é€‰", adv2d: "æ”¯æŒ 1/3/5/æ— é™æ¬¡", adv3t: "éšæ—¶æ‰‹åŠ¨ç»ˆæ­¢", adv3d: "ä¸€é”®åˆ‡æ–­æ‰€æœ‰ä¼ è¾“", limit: "é™åˆ¶: ", exp: "åˆ°æœŸ: ", yT: "âœ” é€‚åˆåœºæ™¯", yD: "ä¸´æ—¶ä¼ å›¾ä¼ æ–‡ã€å…¬å…±ç”µè„‘åˆ†äº«ã€é˜…åå³æ¯ä¿¡æ¯ã€‚", nT: "âŒ ä¸é€‚åˆåœºæ™¯", nD: "é•¿æœŸäº‘ç›˜å­˜å‚¨ã€å›¢é˜Ÿåä½œã€å¤§æ–‡ä»¶å¤‡ä»½ã€‚" }
    };

    let currLang = "en", peer = null, stagedFiles = [], expiryTimerIdx = null;
    const PREFIX = "fd-pro-", CHUNK_SIZE = 262144;

    function applyI18N() {
        const userLang = navigator.language.split('-')[0];
        currLang = I18N[userLang] ? userLang : "en";
        const d = I18N[currLang];
        document.getElementById('currentLangTag').innerText = currLang.toUpperCase();
        document.getElementById('tab-send').innerText = d.send; document.getElementById('tab-receive').innerText = d.receive;
        document.getElementById('label-files').innerText = d.drop; document.getElementById('btn-share-main').innerText = d.start;
        document.getElementById('btn-receive-main').innerText = d.dl; document.getElementById('label-limit').innerText = d.limit;
        document.getElementById('prom-1').innerText = d.prom1; document.getElementById('prom-2').innerText = d.prom2; document.getElementById('prom-3').innerText = d.prom3;
        document.getElementById('h-title').innerHTML = d.title; document.getElementById('adv1t').innerText = d.adv1t; document.getElementById('adv1d').innerText = d.adv1d;
        document.getElementById('adv2t').innerText = d.adv2t; document.getElementById('adv2d').innerText = d.adv2d;
        document.getElementById('adv3t').innerText = d.adv3t; document.getElementById('adv3d').innerText = d.adv3d;
        document.getElementById('comp-yes-t').innerText = d.yT; document.getElementById('comp-yes-d').innerText = d.yD;
        document.getElementById('comp-no-t').innerText = d.nT; document.getElementById('comp-no-d').innerText = d.nD;
    }

    function handleFiles(files) { stagedFiles = stagedFiles.concat(Array.from(files)); renderStagedList(); }
    function renderStagedList() {
        const list = document.getElementById('stagedList');
        if (stagedFiles.length === 0) { list.style.display = 'none'; return; }
        list.style.display = 'block';
        list.innerHTML = stagedFiles.map((f, i) => `<div style="display:flex; justify-content:space-between; font-size:11px; padding:5px; background:rgba(255,255,255,0.05); margin-bottom:3px; border-radius:5px;"><span>ğŸ“„ ${f.name.substring(0,15)}...</span><span style="color:var(--danger); cursor:pointer;" onclick="removeFile(${i})">âœ•</span></div>`).join('');
    }
    function removeFile(i) { stagedFiles.splice(i, 1); renderStagedList(); }

    function triggerAd(mode) {
        const modal = document.getElementById('adModal');
        const adPg = document.getElementById('ad-pg-bar');
        modal.style.display = 'flex'; adPg.style.width = '0%';
        let elapsed = 0; const totalMs = 3000;
        const itv = setInterval(() => { elapsed += 100; adPg.style.width = (elapsed/totalMs)*100 + '%'; if(elapsed >= totalMs) { clearInterval(itv); modal.style.display = 'none'; mode === 'send' ? initSender() : startReceiving(); } }, 100);
    }

    async function initSender() {
        if(peer) peer.destroy();
        const code = Math.floor(100000 + Math.random() * 900000);
        peer = new Peer(PREFIX + code);
        peer.on('open', () => { document.getElementById('senderCodeArea').style.display = 'block'; document.getElementById('myCode').innerText = code; new QRCode(document.getElementById('qrcode'), { text: window.location.origin + window.location.pathname + "?c=" + code, width: 100, height: 100 }); startExpiryTimer(); });
        peer.on('connection', c => { /* ä¼ è¾“é€»è¾‘ä»£ç ... */ });
    }

    function startExpiryTimer() { let sec = 600; if(expiryTimerIdx) clearInterval(expiryTimerIdx); expiryTimerIdx = setInterval(() => { sec--; document.getElementById('expiryTimer').innerText = `${I18N[currLang].exp}${Math.floor(sec/60)}:${(sec%60).toString().padStart(2,'0')}`; if(sec <= 0) resetSender(); }, 1000); }
    function resetSender() { if(peer) peer.destroy(); location.reload(); }
    function switchTab(m, e) { document.querySelectorAll('.tab').forEach(t => t.classList.remove('active')); document.querySelectorAll('.panel').forEach(p => p.classList.remove('active')); e.target.classList.add('active'); document.getElementById(`panel-${m}`).classList.add('active'); }
    
    window.onload = () => { applyI18N(); };
</script>
</body>
</html>
